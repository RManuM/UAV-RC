"use strict";angular.module("uavRcApp").controller("DebugCtrl",function(t,a,e){t.signal="ack",t.msgs=[],t.emit=function(){var e=(angular.copy(t.msg),{signal:t.signal,msg:angular.copy(t.msg),timeString:(new Date).toLocaleString(),timestamp:+new Date});t.msgs.push(e);var n;t.ackInput&&(n=function(t){console.log("test",t),e.ack=t,e.timeStringAck=(new Date).toLocaleString()});var g={signal:t.signal,msg:_.pick(e.msg,"header","body")};a.emit("debug",g,n),t.msg.header.msg.id=Math.random().toString(36).substring(2,11)},a.on("ack",function(t){t.ack;t.header.req=t.header.msg,t.header.msg={id:Math.random().toString(36).substring(2,11),emitter:"UI",timestamp:+new Date},t.ack=!0}),t.msg={header:{msg:{id:Math.random().toString(36).substring(2,11),emitter:"UI"}},body:null};var n=function(){t.msg.header.msg.timestamp=+new Date,e(n,20)};n(),t.dataChange=function(){try{t.msg.body=JSON.parse(t.dataString)}catch(a){t.msg.body=a.message}},a.on("debug",function(t){console.log(t)})});
"use strict";angular.module("uavRcApp").controller("DebugCtrl",function(t,e,n){t.signal="ack",t.msgs=[],t.log=[],e.on("IO_LOG",function(e){t.log.push(e)}),t.emit=function(){var n=(angular.copy(t.msg),{signal:t.signal,msg:angular.copy(t.msg),timeString:(new Date).toLocaleString(),timestamp:+new Date});t.msgs.push(n);var a;t.msg.header.ack&&(a=function(t){n.ack=t,n.timeStringAck=(new Date).toLocaleString()}),e.emit(t.signal,_.pick(n.msg,"header","body"),a),t.msg.header.msg.id=Math.random().toString(36).substring(2,11)},e.on("ack",function(t){console.log("test"),t.header.req=t.header.msg,t.header.msg={id:Math.random().toString(36).substring(2,11),emitter:"UI",timestamp:+new Date},console.log(t),e.emit("ACK",t)}),t.msg={header:{msg:{id:Math.random().toString(36).substring(2,11),emitter:"UI"}},body:null};var a=function(){t.msg.header.msg.timestamp=+new Date,n(a,20)};a(),t.dataChange=function(){try{t.msg.body=JSON.parse(t.dataString)}catch(e){t.msg.body=e.message}},e.on("debug",function(t){console.log(t)})});
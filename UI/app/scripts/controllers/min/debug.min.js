"use strict";angular.module("uavRcApp").controller("DebugCtrl",function(n,a,t){n.signal="ack",n.msgs=[],n.log=[],a.on("*",function(a){n.log.push(a)}),n.emit=function(){var t,e=angular.copy(n.msg);n.msg.header.msg.ack&&(t=function(n){console.log(n);new Date;s.ack=n,s.timeStringAck=+new Date-s.timestamp+" ms"}),a.emit(n.signal,e,t);var s=(new Date,{signal:n.signal,msg:e,timeString:(new Date).toString("HH:mm:ss tt"),timestamp:+new Date});n.msgs.push(s),n.msg.header.msg.id=Math.random().toString(36).substring(2,11)},a.on("ack",function(n){console.log(n),_.path(n,"header.msg.ack")&&(n=_.ioMsg(null,null,n),a.emit("ACK",n))}),a.on("ackerror",function(n){_.path(n,"header.msg.ack")&&(n=_.ioMsg("Error",null,n),a.emit("ACK",n))}),a.on("ackerror",function(){}),n.msg=_.ioMsg(null,null),n.validBody=!0;var e=function(){n.msg.header.msg.timestamp=+new Date,t(e,20)};e(),n.dataChange=function(){try{n.msg.body=JSON.parse(n.dataString),n.validBody=!0}catch(a){n.msg.body=a.message,n.validBody=!1}}});
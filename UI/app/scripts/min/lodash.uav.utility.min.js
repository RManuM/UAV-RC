var noMsgSignals=["disconnect"],id="UI",errorMap={504:"Gateway Time-out",400:"Bad Request",403:"Forbidden"};_.mixin({noFn:function(){return function(){}},path:function(r,e,n){for(var t=0,e=e.split("."),i=e.length;i>t;t++){if(!r||"object"!=typeof r)return n;r=r[e[t]]}return void 0===r?n:r},hasAll:function(r){for(var e=1;e<arguments.length;e++)if(!_.has(r,arguments[e]))return!1;return!0},hasOne:function(r){for(var e=1;e<arguments.length;e++)if(_.has(r,arguments[e]))return!0;return!1},ioValid:function(r,e){return e?_.has(e,"header")&&_.has(e.header,"msg")&&_.hasAll(e.header.msg,"id","timestamp","timestamp","emitter")&&_.hasOne(e,"body","error"):noMsgSignals.indexOf(r)+1},ioMsg:function(r,e,n){var t={header:{msg:{emitter:id||"NO_NAME",id:Math.random().toString(36).substring(2,11),timestamp:+new Date}}};return r?t.error=_.isUndefined(errorMap[r])?r:{code:r,description:errorMap[r]}:t.body=e,n&&(t.header.req=n.header.msg),t},ioEmitter:function(r){return _.path(r,"header.msg.emitter")},ioBody:function(r){return _.path(r,"body","no body")},ioAckId:function(r){return[+new Date,r||"NONAME",Math.random().toString(36)].join("_")}});